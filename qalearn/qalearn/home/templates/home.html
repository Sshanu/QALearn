{% extends "header.html" %}
{% load staticfiles %}
    <meta name="viewport" content="width=device-width, initial-scale=1">
<!--===============================================================================================-->
    <link rel="icon" type="image/png" href="{% static 'home/images/icons/favicon.ico' %}"/>
<!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="{% static 'home/vendor/bootstrap/css/bootstrap.min.css' %}">
<!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="{% static 'home/fonts/font-awesome-4.7.0/css/font-awesome.min.css' %}">
<!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="{% static 'home/vendor/animate/animate.css' %}">
<!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="{% static 'home/vendor/css-hamburgers/hamburgers.min.css' %}">
<!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="{% static 'home/vendor/select2/select2.min.css' %}">
<!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="{% static 'home/css/util.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'home/css/main.css' %}">

{% block content %}
  <style>
  .link
    {
       color:white;
    }
</style>
    <div class="wrap-contact100">             
             <span class="contact100-form-title">
                		<a class="contact100-form-title" href='/home/'>QALearn</a>
            </span>

            <form method="GET" action='' class="contact100-form validate-form">
            	<div class="row">
                    {% if documents %}
	            	<div class="input100 container-contact100-form-btn col-sm-3" align="left">
	                        <select style="width:180px;padding-left:10%;" class="form-control input100" name="file" value= '{{request.GET.file}}'>
	                        	{% if show%}
	                            <option class="input100 form-control" selected="selected">{{file}}</option>
	                            {% else %}
	                            <option class="input100 form-control" selected="selected">Choose a file</option>
	                           	{% endif %}

	                            {% for document in documents %}
	                                <option >{{ document.name }}</option>
	                            {% endfor %}
	                        </select>
	                </div>
	                 <div class="col-sm-4 container-contact100-form-btn" align="left">
	                    <button class="contact100-form-btn form-control" style="width: 5%">
	                        Preview
	                    </button>
	                </div>

	                <div class="container-contact100-form-btn col-sm-5" style="display: flex; justify-content: flex-end">
                    <a class="contact100-form-btn" href='/home/upload/'><div class="link">Upload a file</div></a>
                    </div>
                    
                    {% else %}
                    <div class="container-contact100-form-btn" style="width:800px; margin:0 auto;">
                        <a class="contact100-form-btn" href='/home/upload/'><div class="link">Upload a file</div></a>
                    </div>

                    {% endif %}

           	 	</div>

                
       			{% if show %}
	              <div class="container-contact100-form-btn">
	             <object data="/media/documents/{{file}}.pdf" type="application/pdf" frameborder="0" width="100%" height="400px"> 
				  <p>It appears you don't have a PDF plugin for this browser.
				   No biggie... you can <a href="/media/{{file}}">click here to
				  download the PDF file.</a></p>  
				 </object>
				 </div>
             	{% endif %}

                <p class="contact100-form-text"> Question: </p>
                <div class="wrap-input100 validate-input">
                    <textarea class="input100" name="question" placeholder="Ask Question" class="form-control" value ='{{request.GET.question}}'>{{ques}}</textarea>
                    <span class="focus-input100"></span>
                </div>

                <div class="container-contact100-form-btn">
                    <button class="contact100-form-btn form-control" style="width:30%; margin:0 auto;"">
                        Submit
                    </button>
                </div>
                {% if status %}
                    <p class="contact100-form-text"> Answer: </p>
                    <div class="wrap-input100 validate-input">
                        <textarea readonly class="input100" name="answer">{{answer}}</textarea>
                        <span class="focus-input100"></span>
                    </div>
                {% endif %}

                {% if no_ans_status %}
                    <p class="contact100-form-text"> No answer found</p>
                {% endif %}
            </form>
            


        </div>

{% endblock %}